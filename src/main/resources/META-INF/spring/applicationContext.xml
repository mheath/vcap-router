<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:task="http://www.springframework.org/schema/task"
	xmlns:nats="http://mheath.github.com/schema/spring/nats"
	default-lazy-init="false"
	xsi:schemaLocation="
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
	http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd
	http://mheath.github.com/schema/spring/nats http://mheath.github.com/schema/spring/nats-0.3.xsd
	"
	>

	<context:annotation-config />

	<bean id="natsSlf4jLogger" class="vcap.router.nats.Slf4jNatsLogger" />

	<nats:nats logger-ref="natsSlf4jLogger">
		<nats:host>nats://localhost:4222/</nats:host>
	</nats:nats>

	<task:scheduler id="scheduler" />

	<task:scheduled-tasks>
		<!-- Task for broadcasting availability of router to mbus -->
		<task:scheduled ref="main" method="test" fixed-rate="30000"/>
	</task:scheduled-tasks>

	<bean id="main" class="vcap.router.Main" />

</beans>
